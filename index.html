<!DOCTYPE html>
<html lang="en">
<head>
    <h1></h1>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


<label for="pogodaInput">wyszukaj</label>
<input name="pogodaInput" value="Zambrow" id="inputWheater"></input>
<button id="pogodaBTN">wyszukaj</button>
<pre id="data"></pre>
<img id="imageEl">

</body>

    <script type="text/javascript">


const api = 'c6b235d226dc4384bbb00338231910'
const inputPogoda = document.getElementById("inputWheater");
const pogodaWyszukaj = document.getElementById("pogodaBTN")
const dataEl = document.getElementById("data");
const imageEl = document.getElementById("imageEl");

function pogoda(city) {
    dataEl.textContent = "";
fetch(`https://api.weatherapi.com/v1/current.json?key=${api}&q=${city}&aqi=no&lang=pl`)
.then((res) => res.json())
.then((data) => {
    dataEl.textContent = JSON.stringify(data, null, 1);
    //imageEl.src = JSON.stringify(data.current.condition.icon);
    console.log(imageEl.src)
    if(data.error){dataEl.textContent = data.error.message}
})
//.catch(error => console.log(`blad: ${error}`))

}


pogodaWyszukaj.addEventListener("click", () => {
    pogoda(inputPogoda.value)})

        </script>
</html>