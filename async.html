<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p id="app"></p>
</body>
<script>
    const pEl = document.getElementById("app");
    let p = document.createElement("p");

    const registerData = (age) =>
            {
                return new Promise((res, rej) => {
                    if(age >= 18)
                    {res('wiek jest ok')}
                    else {rej('masz za malo lat')}})
            }

    const registerUser = () =>
            {
                return new Promise((res,rej) => { setTimeout(() => {res()}, 2000)})
            }

    const sendEmail = () =>
            {
                return new Promise((res, rej) => {setTimeout(() => {res()}, 1500)})
            }

// registerData(18)
// .then(res => {console.log(res)
//     return registerUser()})
// .then(res => {console.log(res)
//     return sendEmail()})
// .then(res => console.log(res))
// .catch(error => console.error(error))

async function test(age)
{
    try
    {
        await registerData(age)
        pEl.innerText="Mozesz sie zarejestrowaÄ‡"
        await registerUser()
        pEl.innerText="Rejestracja adresu email"
        await sendEmail()
        pEl.innerText='Wysylanie maila'
    }
    catch(error)
    {
        pEl.innerHTML="Masz za malo lat"
        console.error(error)
    }
}
test(19)
</script>
</html>